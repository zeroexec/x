<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Terkunci</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root { --bg: #000; --accent: #00e5ff; --text-dim: #888; }
        body { margin: 0; background: var(--bg); font-family: sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; color: white; }
        .login-box { width: 100%; max-width: 320px; text-align: center; padding: 20px; }
        .login-box i { font-size: 50px; color: var(--accent); margin-bottom: 20px; }
        input { width: 100%; padding: 15px; background: #111; border: 1px solid #333; color: #fff; border-radius: 12px; font-size: 20px; text-align: center; letter-spacing: 8px; margin-bottom: 15px; box-sizing: border-box; outline: none; }
        button { width: 100%; padding: 14px; background: var(--accent); border: none; border-radius: 12px; font-weight: bold; cursor: pointer; color: #000; }
        #msg { margin-top: 15px; font-size: 13px; color: #ff4d4d; }
    </style>
</head>
<body>
    <div class="login-box">
        <i class="fa-solid fa-shield-halved"></i>
        <h2>Console Access</h2>
        <p style="color: var(--text-dim); font-size: 13px; margin-bottom: 30px;">Otentikasi diperlukan.</p>
        <input type="password" id="pass" placeholder="••••" autofocus>
        <button id="btn" onclick="handleLogin()">UNLOCK</button>
        <div id="msg"></div>
    </div>
    <script>
        const client = supabase.createClient('https://nynowiamkpddohtaoqvt.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55bm93aWFta3BkZG9odGFvcXZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY2MzQyODEsImV4cCI6MjA4MjIxMDI4MX0.vN7m2SUztxtHUROEMOqtbqMGRPehM9UJZP_VSsVMRtw');
        async function handleLogin() {
            const pass = document.getElementById('pass').value;
            const btn = document.getElementById('btn');
            const msg = document.getElementById('msg');
            btn.disabled = true; btn.innerText = "VERIFYING...";
            const { data, error } = await client.auth.signInWithPassword({ email: 'karyatulissaya@gmail.com', password: pass });
            if (error) {
                msg.innerText = "Password Salah";
                btn.disabled = false; btn.innerText = "UNLOCK";
            } else {
                window.location.href = 'home.html';
            }
        }
        document.getElementById('pass').addEventListener('keypress', (e) => { if(e.key === 'Enter') handleLogin(); });
        async function check() { const { data } = await client.auth.getSession(); if(data.session) window.location.href = 'home.html'; }
        check();
    </script>
</body>
</html>
